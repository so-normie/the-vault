---
title: 619. Biggest Single Number
created: 2023-09-12 16:50
updated: 2023-10-07 15:19
authors:
  - Edmund Leibert III
tags:
  - ğŸ”´-academics/ğŸ“š-educational-resources/name/ğŸŒ-leetcode
  - ğŸ”´-academics/ğŸ“š-educational-resources/source-format/internet/website
  - ğŸ”´-academics/ğŸ“š-educational-resources/discipline/computer-science
  - ğŸ”´-academics/ğŸ“š-educational-resources/name/ğŸŒ-leetcode/ğŸ”–-bookmark/ğŸŒ-leetcode/problems/619-biggest-single-number
  - ğŸ”´-academics/ğŸ“š-educational-resources/name/ğŸŒ-leetcode/ğŸ·ï¸-tag/problem/difficulty/easy
  - ğŸ”´-academics/ğŸ“š-educational-resources/name/ğŸŒ-leetcode/ğŸ·ï¸-tag/problem/tag/topic/database
  - study-note
cards-deck: ğŸ”´ Academics::ğŸ“š Educational Resources::ğŸŒ LeetCode::Problems::619. Biggest Single Number
---

# ğŸŒ Structy

---

## ğŸ•¸ï¸ All Mention(s): 

---

## ğŸ”™ Previous Note(s):

---

## 0. Introduction

### 619. Biggest Single Number

> [!info]+ Where can the problem be found?
> The problem can be found here: [619. Biggest Single Number](https://leetcode.com/problems/biggest-single-number/description/)

#### Solution (SQL Server)

ï¹‡<br>
What is the _optimal_ solution to this problem? Provide analysis regarding what differentiates it to other approaches/solutions.

#card #ğŸ”´-academics/ğŸ“š-educational-resources/discipline/computer-science/dbms/sql-server 

**Database**

Approach 1: UsingÂ **subquery**Â andÂ `MAX()`Â function [Accepted]

**Intuition**

Use subquery to select all the numbers appearing just one time.

```dart
SELECT
    num
FROM
    my_numbers
GROUP BY num
HAVING COUNT(num) = 1;
```

Then choose the biggest one usingÂ `MAX()`.

```dart
SELECT
    MAX(num) AS num
FROM
    (SELECT
        num
    FROM
        my_numbers
    GROUP BY num
    HAVING COUNT(num) = 1) AS t;
```

**Implementation**

```dart
SELECT
    MAX(num) AS num
FROM
    (SELECT
        num
    FROM
        my_numbers
    GROUP BY num
    HAVING COUNT(num) = 1) AS t;
```

âŒ‚
<br>ï¹ˆ<br>^1694741522570



##### Attempt #1 :: ğŸ“† 2023-09-12 16:09 -07:00 :: âœ… :: \[Author: Edmund Leibert III\]

###### Performance

- â²ï¸ **Time**: `0:09:28`
- ğŸ§”ğŸ½â€â™‚ï¸ **Author(s)**:
	- Edmund Leibert III

###### Notes

ï¹‡<br>
Is the following code valid?

```sql
/* Write your T-SQL query statement below */
SELECT
    CASE
        WHEN 
            COUNT(*) > 0 
            THEN 
                MIN(num)
        ELSE 
            NULL
    END AS 'num'
FROM (
    SELECT
        TOP 1
        m.num AS 'num'
    FROM 
        MyNumbers m
    GROUP BY 
        m.num
        HAVING 
            COUNT(*) = 1 
    ORDER BY m.num DESC
) AS subquery
```

#card #ğŸ”´-academics/ğŸ“š-educational-resources/discipline/computer-science/dbms/sql-server 

While the following code is valid, it is _not_ optimal. Instead of using `TOP` and a subquery, you can just use `MAX()`. Remember that theÂ `MAX()`Â will take care of theÂ `NULL`Â condition. no need forÂ `IFNULL` or using the approach used above.

âŒ‚
<br>ï¹ˆ<br>^1694741510167



ï¹‡<br>
Is the following code valid?

```sql
SELECT
    CASE
        WHEN 
            COUNT(*) > 0 
            THEN 
                MIN(num)
        ELSE 
            NULL
    END AS 'num'
FROM (
    SELECT
        TOP 1
        m.num AS 'num'
    FROM 
        MyNumbers m
    GROUP BY 
        m.num
        HAVING 
            COUNT(*) = 1 
    ORDER BY m.num DESC
)
```

#card #ğŸ”´-academics/ğŸ“š-educational-resources/discipline/computer-science/dbms/sql-server 

This code will not compile/be interpreted and instead will result in an error. Every derived table must have have its own alias.

âŒ‚
<br>ï¹ˆ<br>^1694741510171



Every derived table must have its own {1:alias}.
#ğŸ”´-academics/ğŸ“š-educational-resources/discipline/computer-science/dbms/sql-server
^1694741510176


ï¹‡<br>
What is derived table and how is different from a CTE?

#card #ğŸ”´-academics/ğŸ“š-educational-resources/discipline/computer-science/dbms/sql-server 

Both derived tables and Common Table Expressions (CTEs) are used to simplify complex queries, but they have some key differences in terms of syntax, usability, and scope.

**Derived Table**

1. **Definition**: A derived table is a table that is defined within the context of a SQL statement, usually in the `FROM` clause. It doesn't exist as a standalone entity.
2. **Syntax**: Defined inline in the SQL statement.
3. **Scope**: Only available within the query where it is defined.
4. **Usability**: Can be used only once, in the query where it is defined.
5. **Readability**: Less readable for very complex queries as all derived tables must be defined within a single SQL statement.
6. **Recursive Queries**: Cannot be used to define recursive queries.

Example:
```sql
SELECT 
	*
FROM (
	SELECT 
		col1
	FROM
		table1
	WHERE
		col1 > 10
) AS derived_table
```

**Common Table Expression (CTE)**

1. **Definition**: A CTE is a named temporary result set that exists within the scope of a single SQL statement.
2. **Syntax**: Defined separately using the `WITH` clause, prior to the SQL statement that will use it.
3. **Scope**: Available to the query immediately following the CTE definition.
4. **Usability**: Can be referenced multiple times within that query.
5. **Readability**: More readable as it allows breaking down complex queries into simpler parts.
6. **Recursive Queries**: Can be used to create recursive queries.

Example:
```sql
WITH CTE AS (
	SELECT 
		col1
	FROM 
		table1 
	WHERE 
		col1 > 10
)
SELECT
	*
FROM 
	CTE
```

**Summary**
- Derived tables are inline and restricted to the query where they are defined.
- CTEs are more flexible and can be referenced multiple times, and they also allow for recursion.

âŒ‚
<br>ï¹ˆ<br>^1694741510181


{1:Derived tables} are {2:inline and restricted to the query where they are defined}. #ğŸ”´-academics/ğŸ“š-educational-resources/discipline/computer-science/dbms/sql-server 
^1694741510186


{1:CTEs} are {2:more flexible and can be referenced multiple times, and they also allow for recursion}. #ğŸ”´-academics/ğŸ“š-educational-resources/discipline/computer-science/dbms/sql-server 
^1694741510191


ï¹‡<br>
Let say I am using the aggregate function `MAX` or `MIN` on a _empty_ set. What will these aggregate functions return?

#card #ğŸ”´-academics/ğŸ“š-educational-resources/discipline/computer-science/dbms/sql-server 

If you apply an aggregate function like `MAX` or `MIN` to an empty derived table, the result will be `NULL`. Aggregate functions, when applied to empty sets, generally return `NULL` to indicate that no value could be calculated because there are no rows to operate on.

Here's a simple example to illustrate:

```sql
SELECT MAX(col1) AS MaxValue
FROM (
  SELECT col1
  FROM table1
  WHERE 1 = 0  -- this condition ensures the derived table will be empty
) AS derived_table
```

In this example, `MaxValue` would be `NULL` because the derived table is empty.

âŒ‚
<br>ï¹ˆ<br>^1694741510195


ï¹‡<br>
Consider the following scenarioâ€¦

```
MyNumbersÂ =
| num |
| --- |
|  8  |
|  8  |
|  3  |
|  3  |
|  1  |
|  4  |
|  5  |
|  6  |
```

What would the following query return?

```sql
SELECT
Â  Â  MAX(m.num) AS 'num'
FROM
Â  Â  MyNumbers m
GROUP BY
Â  Â  m.num
Â  Â  HAVING
Â  Â  Â  Â  COUNT(*) = 1
```


#card #ğŸ”´-academics/ğŸ“š-educational-resources/discipline/computer-science/dbms/sql-server 

In the query you provided, the `MAX(m.num)` function will operate on each group formed by `GROUP BY m.num`. Since each group will have only the single unique value of `m.num`, the `MAX(m.num)` function will return that single value for each group. 

The `HAVING COUNT(*) = 1` condition filters out the groups where the count is not 1, effectively removing the numbers that appear more than once in the table.

For your example table `MyNumbers`, the query will group by `num` and then filter to only include those numbers that appear exactly once. The numbers 8 and 3 appear twice, so they will be filtered out. The remaining numbers (1, 4, 5, 6) appear only once, so they will be in the final result.

The result will be:

```
| num |
| --- |
|  1  |
|  4  |
|  5  |
|  6  |
```

So, to answer your specific question: `MAX()` in this context returns the maximum value within each group, but since each group that passes the `HAVING` condition has only one number, `MAX()` returns that number itself.

âŒ‚
<br>ï¹ˆ<br>^1694741510200



---

## ğŸ”œ Next Note(s):
- 

---
